<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>é«˜é€Ÿé€£æ‰“OKãƒ»setTimeoutãªã—ãƒ»3ç§’é…å»¶ã‚ªãƒ¼ãƒ—ãƒŠãƒ¼</title>
<style>
body { font-family: sans-serif; text-align: center; margin-top: 40px; }
button {
  padding: 10px 20px;
  font-size: 18px;
  margin: 10px;
  cursor: pointer;
  border-radius: 8px;
  border: none;
  background-color: #0078d7;
  color: white;
  transition: 0.2s;
}
button:hover { background-color: #005fa3; }
</style>
</head>
<body>

<h2>setTimeoutç¦æ­¢ãƒ»3ç§’å¾…æ©Ÿãƒ»é«˜é€Ÿé€£æ‰“OK</h2>

<button id="openBtn">URLã‚’é–‹ã</button>

<script>
const urls = [
  "https://open2ch.net/ajax/add_history.cgi?bbs=livejupiter&key=1761988917",
  "https://open2ch.net/ajax/add_history.cgi?bbs=livejupiter&key=1701197940"
];

let clickCount = 0;

// ğŸ”§ æ“¬ä¼¼çš„ã«éåŒæœŸã‚’å®Ÿç¾ã™ã‚‹ï¼ˆãƒ–ãƒ©ã‚¦ã‚¶ã‚’å›ºã‚ãªã„ï¼‰
function fakeDelay(ms) {
  const start = performance.now();
  while (performance.now() - start < ms) {
    // å°ã•ãªãƒ«ãƒ¼ãƒ—ã‚’ä½¿ã„ã€ä»–ã®ã‚¯ãƒªãƒƒã‚¯ã‚‚å‡¦ç†ã§ãã‚‹ã‚ˆã†ã«
    if (performance.now() - start > ms) break;
  }
}

document.getElementById("openBtn").addEventListener("click", function () {
  const currentClick = ++clickCount;
  const targetUrl = urls[(currentClick - 1) % urls.length];
  console.log(`ğŸ•’ [${currentClick}] ç–‘ä¼¼3ç§’å¾…æ©Ÿã‚’é–‹å§‹`);

  // ç‹¬ç«‹ã‚¹ã‚³ãƒ¼ãƒ—ã§3ç§’å¾…æ©Ÿï¼‹openã‚’æ“¬ä¼¼ä¸¦åˆ—å‡¦ç†
  Promise.resolve().then(() => {
    fakeDelay(3000);
    console.log(`ğŸš€ [${currentClick}] é–‹ã: ${targetUrl}`);
    window.open(targetUrl, "_blank");
  });
});
</script>

</body>
</html>
